import{a as ht,b as _t,e as Pe}from"./chunk-LFD6STBS.js";import{$ as Fe,A as Me,Aa as $e,B as xe,Ba as vt,C as be,D as ut,E as ye,F as Ee,G as we,H as De,I as ft,J as gt,K as f,L as Ie,M as R,O as K,P as I,S as Y,V as O,W as Oe,Y as T,Z as F,_ as Te,a as z,aa as ee,c as fe,e as dt,j as ge,la as Ct,m as pt,ma as A,na as V,o as Le,oa as B,p as Z,pa as N,q as he,qa as j,r as re,ra as H,s as _e,sa as q,t as oe,ta as L,u as me,ua as U,v as Ce,va as $,wa as le,x as ve,xa as te,y,ya as ie,z as Se,za as Ue}from"./chunk-XMZKNSMT.js";import{$ as de,$b as J,Ab as h,Bb as C,Cb as v,Dc as qe,Eb as Q,Ec as ue,Gc as ne,Hc as ct,Ib as M,Kb as x,Ub as m,Vb as _,Wb as X,aa as lt,ab as s,ac as W,bb as g,d as Vt,e as mt,eb as ae,fa as pe,ja as E,ka as st,na as w,nb as d,oa as D,pb as c,yb as a,zb as n}from"./chunk-5SPX2Z63.js";var at=Vt((it,nt)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof it<"u"?t():(t(),e.FileSaver={})})(it,function(){"use strict";function e(p,S){return typeof S>"u"?S={autoBom:!1}:typeof S!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function t(p,S,k){var b=new XMLHttpRequest;b.open("GET",p),b.responseType="blob",b.onload=function(){u(b.response,S,k)},b.onerror=function(){console.error("could not download file")},b.send()}function l(p){var S=new XMLHttpRequest;S.open("HEAD",p,!1);try{S.send()}catch{}return 200<=S.status&&299>=S.status}function i(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var S=document.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(S)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(p,S,k){var b=r.URL||r.webkitURL,P=document.createElement("a");S=S||p.name||"download",P.download=S,P.rel="noopener",typeof p=="string"?(P.href=p,P.origin===location.origin?i(P):l(P.href)?t(p,S,k):i(P,P.target="_blank")):(P.href=b.createObjectURL(p),setTimeout(function(){b.revokeObjectURL(P.href)},4e4),setTimeout(function(){i(P)},0))}:"msSaveOrOpenBlob"in navigator?function(p,S,k){if(S=S||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(e(p,k),S);else if(l(p))t(p,S,k);else{var b=document.createElement("a");b.href=p,b.target="_blank",setTimeout(function(){i(b)})}}:function(p,S,k,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof p=="string")return t(p,S,k);var P=p.type==="application/octet-stream",At=/constructor/i.test(r.HTMLElement)||r.safari,rt=/CriOS\/[\d]+/.test(navigator.userAgent);if((rt||P&&At||o)&&typeof FileReader<"u"){var Ze=new FileReader;Ze.onloadend=function(){var Ne=Ze.result;Ne=rt?Ne:Ne.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=Ne:location=Ne,b=null},Ze.readAsDataURL(p)}else{var ot=r.URL||r.webkitURL,Ke=ot.createObjectURL(p);b?b.location=Ke:location.href=Ke,b=null,setTimeout(function(){ot.revokeObjectURL(Ke)},4e4)}});r.saveAs=u.saveAs=u,typeof nt<"u"&&(nt.exports=u)})});var se=(()=>{let t=class t{constructor(i){this.httpClient=i,this.url=Ie.apiUrl}add(i){return this.httpClient.post(this.url+"/category/add",i,{headers:new z().set("Content-Type","application/json")})}update(i){return this.httpClient.patch(this.url+"/category/update",i,{headers:new z().set("Content-Type","application/json")})}getCategorys(){return this.httpClient.get(this.url+"/category/get")}};t.\u0275fac=function(r){return new(r||t)(pe(fe))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Bt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrig\xE1torio."),n())}function Nt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Bt,2,0,"span",5),n()),e&2){let l=x();s(),c("ngIf",l.categoryForm.controls.name.errors.required)}}var Ye=(()=>{let t=class t{constructor(i,r,o,u,p){this.dialogData=i,this.formBuilder=r,this.categoryService=o,this.dialogRef=u,this.snackbarService=p,this.onAddCategory=new ae,this.onEditCategory=new ae,this.categoryForm=xe,this.dialogAction="Add",this.action="ADICIONAR"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[y.required]]}),this.dialogData.action==="Edit"&&(this.dialogAction="Edit",this.action="EDITAR",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){this.dialogAction==="Edit"?this.edit():this.add()}add(){var i=this.categoryForm.value,r={name:i.name};this.categoryService.add(r).subscribe(o=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=o.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},o=>{this.dialogRef.close(),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}edit(){var i=this.categoryForm.value,r={id:this.dialogData.data.id,name:i.name};this.categoryService.update(r).subscribe(o=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=o.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},o=>{o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}};t.\u0275fac=function(r){return new(r||t)(g(re),g(De),g(se),g(he),g(I))},t.\u0275cmp=E({type:t,selectors:[["app-category"]],decls:17,vars:5,consts:[["color","primary"],[1,"title-center"],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(r,o){r&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3),n()()(),a(4,"mat-dialog-content")(5,"form",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),m(9,"Nome"),n(),h(10,"input",4),d(11,Nt,2,1,"mat-error",5),n()()()(),a(12,"mat-dialog-actions",6)(13,"button",7),M("click",function(){return o.handleSubmit()}),m(14),n(),a(15,"button",8),m(16,"FECHAR"),n()()),r&2&&(s(3),_(o.dialogData.action),s(2),c("formGroup",o.categoryForm),s(6),c("ngIf",o.categoryForm.controls.name.touched&&o.categoryForm.controls.name.invalid),s(2),c("disabled",!(o.categoryForm.valid&&o.categoryForm.dirty)),s(),X(" ",o.action," "))},dependencies:[ue,R,oe,Ce,me,T,O,Oe,F,Fe,Te,be,ve,Se,Me,we,ye,Ee],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px;flex-direction:column;display:flex}"]});let e=t;return e})();function jt(e,t){e&1&&(a(0,"th",13),m(1,"NOME"),n())}function Ht(e,t){if(e&1&&(a(0,"td",14),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function qt(e,t){e&1&&(a(0,"th",13),m(1,"EDITAR"),n())}function Lt(e,t){if(e&1){let l=Q();a(0,"td",15)(1,"button",16),M("click",function(){let o=w(l).$implicit,u=x();return D(u.handleEditAction(o))}),a(2,"mat-icon"),m(3,"edit"),n()()()}}function Ut(e,t){e&1&&h(0,"tr",17)}function $t(e,t){e&1&&h(0,"tr",18)}var yt=(()=>{let t=class t{constructor(i,r,o,u,p){this.categoryService=i,this.ngxService=r,this.dialog=o,this.snackbarService=u,this.router=p,this.displayedColumns=["name","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.categoryService.getCategorys().subscribe(i=>{this.ngxService.stop(),this.dataSource=new le(i)},i=>{this.ngxService.stop(),i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}applyFilter(i){let r=i.target.value;this.dataSource.filter=r.trim().toLowerCase()}handleAddAction(){let i=new Z;i.data={action:"ADICIONAR CATEGORIA"},i.width="550px";let r=this.dialog.open(Ye,i);this.router.events.subscribe(()=>{r.close()});let o=r.componentInstance.onAddCategory.subscribe(u=>{this.tableData()})}handleEditAction(i){let r=new Z;r.data={action:"Edit",data:i},r.width="550px";let o=this.dialog.open(Ye,r);this.router.events.subscribe(()=>{o.close()});let u=o.componentInstance.onEditCategory.subscribe(p=>{this.tableData()})}};t.\u0275fac=function(r){return new(r||t)(g(se),g(Y),g(_e),g(I),g(ge))},t.\u0275cmp=E({type:t,selectors:[["app-manage-category"]],decls:24,vars:4,consts:[[1,"add-category__content"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z0",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Categoria"),n()(),a(4,"button",1),M("click",function(){return o.handleAddAction()}),m(5," ADICIONAR CATEGORIA "),n()(),h(6,"hr"),a(7,"mat-card")(8,"mat-form-field",2)(9,"mat-label"),m(10,"Procurar Categoria"),n(),a(11,"input",3,4),M("keyup",function(p){return o.applyFilter(p)}),n()()(),h(13,"hr"),a(14,"mat-card")(15,"table",5),C(16,6),d(17,jt,2,0,"th",7)(18,Ht,2,1,"td",8),v(),C(19,9),d(20,qt,2,0,"th",7)(21,Lt,4,0,"td",10),v(),d(22,Ut,1,0,"tr",11)(23,$t,1,0,"tr",12),n()()),r&2&&(s(15),c("dataSource",o.dataSource),s(7),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[R,K,te,A,B,q,N,V,L,j,H,U,$,T,O,ee,F,ie],styles:[".float-right[_ngcontent-%COMP%]{float:right}.add-category__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}"]});let e=t;return e})();var Be=(()=>{let t=class t{constructor(i){this.httpClient=i,this.url=Ie.apiUrl}add(i){return this.httpClient.post(this.url+"/product/add/",i,{headers:new z().set("Content-Type","application/json")})}update(i){return this.httpClient.patch(this.url+"/product/update/",i,{headers:new z().set("Content-Type","application/json")})}updateStatus(i){return this.httpClient.patch(this.url+"/product/updateStatus",i,{headers:new z().set("Content-Type","application/json")})}delete(i){return this.httpClient.delete(this.url+"/product/delete/"+i,{headers:new z().set("Content-Type","application/json")})}getProducts(){return this.httpClient.get(this.url+"/product/get")}getProductsByCategory(i){return this.httpClient.get(this.url+"/product/getByCategory/"+i)}getById(i){return this.httpClient.get(this.url+"/product/getById/"+i)}};t.\u0275fac=function(r){return new(r||t)(pe(fe))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Qt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function Xt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function Jt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Qt,2,0,"span",4)(2,Xt,2,0,"span",4),n()),e&2){let l=x();s(),c("ngIf",l.productForm.controls.name.errors.required),s(),c("ngIf",l.productForm.controls.name.errors.pattern)}}function Wt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function Zt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function Kt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Wt,2,0,"span",4)(2,Zt,2,0,"span",4),n()),e&2){let l=x();s(),c("ngIf",l.productForm.controls.price.errors.required),s(),c("ngIf",l.productForm.controls.price.errors.pattern)}}function Yt(e,t){e&1&&(a(0,"span"),m(1,"Por favor, selecione uma categoria."),n())}function ei(e,t){if(e&1&&(a(0,"mat-error"),d(1,Yt,2,0,"span",4),n()),e&2){let l=x();s(),c("ngIf",l.productForm.controls.price.errors.required)}}function ti(e,t){if(e&1&&(a(0,"mat-option",13),m(1),n()),e&2){let l=t.$implicit;c("value",l.id),s(),_(l.name)}}function ii(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function ni(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function ai(e,t){if(e&1&&(a(0,"mat-error"),d(1,ii,2,0,"span",4)(2,ni,2,0,"span",4),n()),e&2){let l=x();s(),c("ngIf",l.productForm.controls.description.errors.required),s(),c("ngIf",l.productForm.controls.description.errors.pattern)}}var tt=(()=>{let t=class t{constructor(i,r,o,u,p,S){this.dialogData=i,this.formBuilder=r,this.productService=o,this.dialogRef=u,this.categoryService=p,this.snackbarService=S,this.onAddProduct=new ae,this.onEditProduct=new ae,this.productForm=xe,this.dialogAction="Add",this.action="Add",this.categorys=[]}ngOnInit(){this.productForm=this.formBuilder.group({name:[null,[y.required,y.pattern(f.nameRegexWithAccents)]],categoryId:[null,[y.required]],price:[null,[y.required,y.pattern(f.priceRegex)]],description:[null,[y.required]]}),this.dialogData.action==="Edit"&&(this.dialogAction="Edit",this.action="ATUALIZAR",this.productForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys(){this.categoryService.getCategorys().subscribe(i=>{this.categorys=i},i=>{i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}handleSubmit(){this.dialogAction==="Edit"?this.edit():this.add()}add(){var i=this.productForm.value,r={name:i.name,categoryId:i.categoryId,price:i.price,description:i.description};this.productService.add(r).subscribe(o=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=o.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},o=>{o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}edit(){var i=this.productForm.value,r={id:this.dialogData.data.id,name:i.name,categoryId:i.categoryId,price:i.price,description:i.description};this.productService.update(r).subscribe(o=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=o.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},o=>{o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}};t.\u0275fac=function(r){return new(r||t)(g(re),g(De),g(Be),g(he),g(se),g(I))},t.\u0275cmp=E({type:t,selectors:[["app-product"]],decls:36,vars:8,consts:[["color","primary",1,"mat-elevavation-z4"],[1,"title-center"],[3,"formGroup"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","price","required",""],["appearance","fill"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","required",""],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(r,o){r&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3," Produto"),n()()(),a(4,"mat-dialog-content")(5,"form",2)(6,"div")(7,"mat-form-field")(8,"mat-label"),m(9,"Nome"),n(),h(10,"input",3),d(11,Jt,3,2,"mat-error",4),n()(),a(12,"div")(13,"mat-form-field")(14,"mat-label"),m(15,"Pre\xE7o"),n(),h(16,"input",5),d(17,Kt,3,2,"mat-error",4),n()(),a(18,"div")(19,"mat-form-field",6)(20,"mat-label"),m(21,"Categoria"),n(),d(22,ei,2,1,"mat-error",4),a(23,"mat-select",7),d(24,ti,2,2,"mat-option",8),n()()(),a(25,"div")(26,"mat-form-field")(27,"mat-label"),m(28,"Descri\xE7\xE3o"),n(),h(29,"input",9),d(30,ai,3,2,"mat-error",4),n()()()(),a(31,"mat-dialog-actions",10)(32,"button",11),M("click",function(){return o.handleSubmit()}),m(33),n(),a(34,"button",12),m(35,"FECHAR"),n()()),r&2&&(s(5),c("formGroup",o.productForm),s(6),c("ngIf",o.productForm.controls.name.touched&&o.productForm.controls.name.invalid),s(6),c("ngIf",o.productForm.controls.price.touched&&o.productForm.controls.price.invalid),s(5),c("ngIf",o.productForm.controls.price.touched&&o.productForm.controls.price.invalid),s(2),c("ngForOf",o.categorys),s(6),c("ngIf",o.productForm.controls.description.touched&&o.productForm.controls.description.invalid),s(2),c("disabled",!(o.productForm.valid&&o.productForm.dirty)),s(),X(" ",o.action," "))},dependencies:[qe,ue,Le,R,oe,Ce,me,T,O,Oe,F,Ue,Fe,Te,be,ve,Se,Me,we,ye,Ee],styles:["mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px;flex-direction:column;display:flex}"]});let e=t;return e})();var Et=(()=>{let t=class t{constructor(i){this.dialogData=i,this.onEmitStatusChange=new ae,this.details={}}ngOnInit(){this.dialogData&&(this.details=this.dialogData)}handleChangeAction(){this.onEmitStatusChange.emit()}};t.\u0275fac=function(r){return new(r||t)(g(re))},t.\u0275cmp=E({type:t,selectors:[["app-confirmation-delete"]],decls:8,vars:1,consts:[["align","center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(r,o){r&1&&(a(0,"mat-dialog-content")(1,"h5"),m(2),n()(),a(3,"mat-dialog-actions",0)(4,"button",1),M("click",function(){return o.handleChangeAction()}),m(5,"SIM"),n(),a(6,"button",2),m(7,"FECHAR"),n()()),r&2&&(s(2),X(" Voc\xEA deseja deletar ",o.details.message," ? "))},dependencies:[R,oe,Ce,me],styles:["h5[_ngcontent-%COMP%]{font-size:19px}"]});let e=t;return e})();function oi(e,t){e&1&&(a(0,"th",16),m(1,"NOME"),n())}function mi(e,t){if(e&1&&(a(0,"td",17),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function li(e,t){e&1&&(a(0,"th",16),m(1,"CATEGORIA"),n())}function si(e,t){if(e&1&&(a(0,"td",17),m(1),n()),e&2){let l=t.$implicit;s(),_(l.categoryName)}}function ci(e,t){e&1&&(a(0,"th",16),m(1,"DESCRI\xC7\xC3O"),n())}function di(e,t){if(e&1&&(a(0,"td",17),m(1),n()),e&2){let l=t.$implicit;s(),_(l.description)}}function pi(e,t){e&1&&(a(0,"th",16),m(1,"PRE\xC7O"),n())}function ui(e,t){if(e&1&&(a(0,"td",17),m(1),J(2,"currency"),n()),e&2){let l=t.$implicit;s(),_(W(2,1,l.price,"BRL"))}}function fi(e,t){e&1&&(a(0,"th",16),m(1,"EDITAR"),n())}function gi(e,t){if(e&1){let l=Q();a(0,"td",18)(1,"button",19),M("click",function(){let o=w(l).$implicit,u=x();return D(u.handleEditAction(o))}),a(2,"mat-icon"),m(3,"edit"),n()(),a(4,"button",20),M("click",function(){let o=w(l).$implicit,u=x();return D(u.handleDeleteAction(o))}),a(5,"mat-icon"),m(6,"delete"),n()(),a(7,"mat-slide-toggle",21),M("change",function(r){let u=w(l).$implicit,p=x();return D(p.onChange(r.checked,u.id))}),n()()}if(e&2){let l=t.$implicit;s(7),c("checked",l.status)}}function hi(e,t){e&1&&h(0,"tr",22)}function _i(e,t){e&1&&h(0,"tr",23)}var wt=(()=>{let t=class t{constructor(i,r,o,u,p){this.productService=i,this.ngxService=r,this.dialog=o,this.snackbarService=u,this.router=p,this.displayedColumns=["name","categoryName","description","price","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.productService.getProducts().subscribe(i=>{this.ngxService.stop(),this.dataSource=new le(i)},i=>{this.ngxService.stop(),console.log(i),i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}applyFilter(i){let r=i.target.value;this.dataSource.filter=r.trim().toLowerCase()}handleAddAction(){let i=new Z;i.data={action:"Add"},i.width="650px";let r=this.dialog.open(tt,i);this.router.events.subscribe(()=>{r.close()});let o=r.componentInstance.onAddProduct.subscribe(u=>{this.tableData()})}handleEditAction(i){let r=new Z;r.data={action:"Edit",data:i},r.width="650px";let o=this.dialog.open(tt,r);this.router.events.subscribe(()=>{o.close()});let u=o.componentInstance.onEditProduct.subscribe(p=>{this.tableData()})}handleDeleteAction(i){let r=new Z;r.data={message:""+i.name+" produto "};let o=this.dialog.open(Et,r),u=o.componentInstance.onEmitStatusChange.subscribe(p=>{this.ngxService.start(),this.deleteProduct(i.id),o.close()})}deleteProduct(i){this.productService.delete(i).subscribe(r=>{this.ngxService.stop(),this.tableData(),this.responseMessage=r?.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},r=>{this.ngxService.stop(),console.log(r),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}onChange(i,r){var o={status:i.toString(),id:r};this.productService.updateStatus(o).subscribe(u=>{this.ngxService.stop(),this.responseMessage=u?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},u=>{this.ngxService.stop(),console.log(u),u.error?.message?this.responseMessage=u.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}};t.\u0275fac=function(r){return new(r||t)(g(Be),g(Y),g(_e),g(I),g(ge))},t.\u0275cmp=E({type:t,selectors:[["app-manage-product"]],decls:33,vars:4,consts:[[1,"add-product__content"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z0",3,"dataSource"],["matColumnDef","name",1,"action-link"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","primary","matTooltip","Deletar",3,"click"],["color","primary","matTooltip","Ativar ou Desativar Produto",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Produtos"),n()(),a(4,"button",1),M("click",function(){return o.handleAddAction()}),m(5," ADICIONAR PRODUTO "),n()(),h(6,"hr"),a(7,"mat-card")(8,"mat-form-field",2)(9,"mat-label"),m(10,"Procurar produto"),n(),a(11,"input",3,4),M("keyup",function(p){return o.applyFilter(p)}),n()()(),h(13,"hr"),a(14,"mat-card")(15,"table",5),C(16,6),d(17,oi,2,0,"th",7)(18,mi,2,1,"td",8),v(),C(19,9),d(20,li,2,0,"th",7)(21,si,2,1,"td",8),v(),C(22,10),d(23,ci,2,0,"th",7)(24,di,2,1,"td",8),v(),C(25,11),d(26,pi,2,0,"th",7)(27,ui,3,4,"td",8),v(),C(28,12),d(29,fi,2,0,"th",7)(30,gi,8,1,"td",13),v(),d(31,hi,1,0,"tr",14)(32,_i,1,0,"tr",15),n()()),r&2&&(s(15),c("dataSource",o.dataSource),s(16),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[R,K,te,A,B,q,N,V,L,j,H,U,$,T,O,ee,F,$e,ie,ne],styles:["mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px;flex-direction:column;display:flex}mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}.add-product__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}mat-slide-toggle[_ngcontent-%COMP%]{transform:translateY(-7px)}"]});let e=t;return e})();var It=mt(at());var We=(()=>{let t=class t{constructor(i){this.httpClient=i,this.url=Ie.apiUrl}generateReport(i){return this.httpClient.post(this.url+"/bill/generateReport/",i,{headers:new z().set("Content-Type","application/json")})}getPDF(i){return this.httpClient.post(this.url+"/bill/getPdf",i,{responseType:"blob"})}getBills(){return this.httpClient.get(this.url+"/bill/getBills")}delete(i){return this.httpClient.delete(this.url+"/bill/delete/"+i,{headers:new z().set("Content-Type","application/json")})}};t.\u0275fac=function(r){return new(r||t)(pe(fe))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ci(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function vi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function Si(e,t){if(e&1&&(a(0,"mat-error"),d(1,Ci,2,0,"span",6)(2,vi,2,0,"span",6),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.name.errors.required),s(),c("ngIf",l.manageOrderForm.controls.name.errors.pattern)}}function Mi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function xi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function bi(e,t){if(e&1&&(a(0,"mat-error"),d(1,Mi,2,0,"span",6)(2,xi,2,0,"span",6),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.email.errors.required),s(),c("ngIf",l.manageOrderForm.controls.email.errors.pattern)}}function yi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function Ei(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function wi(e,t){if(e&1&&(a(0,"mat-error"),d(1,yi,2,0,"span",6)(2,Ei,2,0,"span",6),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.contactNumber.errors.required),s(),c("ngIf",l.manageOrderForm.controls.contactNumber.errors.pattern)}}function Di(e,t){e&1&&(a(0,"span",36),m(1,"Selecione um m\xE9todo de pagamento."),n())}function Ii(e,t){if(e&1&&(a(0,"mat-error"),d(1,Di,2,0,"span",35),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.paymentMethod.errors.required)}}function Oi(e,t){if(e&1&&(a(0,"mat-option",37),m(1),n()),e&2){let l=t.$implicit;c("value",l),s(),_(l.name)}}function Ti(e,t){if(e&1&&(a(0,"mat-option",37),m(1),n()),e&2){let l=t.$implicit;c("value",l),s(),_(l.name)}}function Fi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function Pi(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function ki(e,t){if(e&1&&(a(0,"mat-error"),d(1,Fi,2,0,"span",6)(2,Pi,2,0,"span",6),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.price.errors.required),s(),c("ngIf",l.manageOrderForm.controls.price.errors.pattern)}}function Ri(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),n())}function Ai(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),n())}function Vi(e,t){if(e&1&&(a(0,"mat-error"),d(1,Ri,2,0,"span",6)(2,Ai,2,0,"span",6),n()),e&2){let l=x();s(),c("ngIf",l.manageOrderForm.controls.quantity.errors.required),s(),c("ngIf",l.manageOrderForm.controls.quantity.errors.pattern)}}function Bi(e,t){e&1&&(a(0,"th",38),m(1,"Nome"),n())}function Ni(e,t){if(e&1&&(a(0,"td",39),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function ji(e,t){e&1&&(a(0,"th",38),m(1,"Categoria"),n())}function Hi(e,t){if(e&1&&(a(0,"td",39),m(1),n()),e&2){let l=t.$implicit;s(),_(l.category)}}function qi(e,t){e&1&&(a(0,"th",38),m(1,"Pre\xE7o"),n())}function Li(e,t){if(e&1&&(a(0,"td",39),m(1),J(2,"currency"),n()),e&2){let l=t.$implicit;s(),X(" ",W(2,1,l.price,"BRL")," ")}}function Ui(e,t){e&1&&(a(0,"th",38),m(1,"Quantidade"),n())}function $i(e,t){if(e&1&&(a(0,"td",39),m(1),n()),e&2){let l=t.$implicit;s(),_(l.quantity)}}function Gi(e,t){e&1&&(a(0,"th",38),m(1,"Total"),n())}function zi(e,t){if(e&1&&(a(0,"td",39),m(1),J(2,"currency"),n()),e&2){let l=t.$implicit;s(),X(" ",W(2,1,l.total,"BRL")," ")}}function Qi(e,t){e&1&&(a(0,"th",38),m(1,"Apagar"),n())}function Xi(e,t){if(e&1){let l=Q();a(0,"td",39)(1,"button",40),M("click",function(){let r=w(l),o=r.index,u=r.$implicit,p=x();return D(p.handleDeleteAction(o,u))}),a(2,"mat-icon"),m(3,"delete"),n()()()}}function Ji(e,t){e&1&&h(0,"tr",41)}function Wi(e,t){e&1&&h(0,"tr",42)}var Ot=(()=>{let t=class t{constructor(i,r,o,u,p,S,k){this.currencyPipe=i,this.formBuilder=r,this.categoryService=o,this.productService=u,this.snackbarService=p,this.ngxService=S,this.billService=k,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=xe,this.categorys=[],this.products=[],this.totalAmount=0}ngOnInit(){this.ngxService.start(),this.getCategorys(),this.manageOrderForm=this.formBuilder.group({name:[null,[y.required,y.pattern(f.nameRegex)]],email:[null,[y.required,y.pattern(f.emailRegex)]],contactNumber:[null,[y.required,y.pattern(f.contactNumberRegex)]],paymentMethod:[null,[y.required]],product:[null,[y.required]],category:[null,[y.required]],quantity:[null,[y.required]],price:[null,[y.required]],total:[null,[y.required]]})}getCategorys(){this.categoryService.getCategorys().subscribe(i=>{this.ngxService.stop(),this.categorys=i},i=>{this.ngxService.stop(),i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}getProductsByCategory(i){this.productService.getProductsByCategory(i.id).subscribe(r=>{this.products=r,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue("")},r=>{this.ngxService.stop(),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}getProductsDetails(i){this.productService.getById(i.id).subscribe(r=>{this.price=r.price,this.manageOrderForm.controls.price.setValue(r.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.price*1)},r=>{this.ngxService.stop(),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=f.error,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}setQuantity(i){var r=this.manageOrderForm.controls.quantity.value;r>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):r!=""&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validadeProductAdd(){return this.manageOrderForm.controls.total.value===0||this.manageOrderForm.controls.total.value===null||this.manageOrderForm.controls.quantity.value<=0}validadeSubmit(){return this.totalAmount===0||this.manageOrderForm.controls.name.value===null||this.manageOrderForm.controls.email.value===null||this.manageOrderForm.controls.contactNumber.value===null||this.manageOrderForm.controls.paymentMethod.value===null||!this.manageOrderForm.controls.contactNumber.valid||!this.manageOrderForm.controls.email.valid}add(){var i=this.manageOrderForm.value,r=this.dataSource.find(o=>o.id==i.product.id);r===void 0?(this.totalAmount=this.totalAmount+i.total,this.dataSource.push({id:i.product.id,name:i.name,category:i.category.name,quantity:i.quantity,price:i.price,total:i.total}),this.dataSource=[...this.dataSource],this.snackbarService.openSnackbar(f.productAdded,"sucess")):this.snackbarService.openSnackbar(f.productExistError,f.error)}handleDeleteAction(i,r){this.totalAmount=this.totalAmount-r.total,this.dataSource.splice(i,1),this.dataSource=[...this.dataSource]}submitAction(){this.ngxService.start();var i=this.manageOrderForm.value,r={name:i.name,email:i.email,contactNumber:i.contactNumber,paymentMethod:i.paymentMethod,totalAmount:this.totalAmount,productDetails:JSON.stringify(this.dataSource)};this.billService.generateReport(r).subscribe(o=>{this.downloadFile(o?.uuid),this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0},o=>{this.ngxService.stop(),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=f.error,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}downloadFile(i){var r={uuid:i};this.billService.getPDF(r).subscribe(o=>{(0,It.saveAs)(o,i+".pdf"),this.ngxService.stop()})}};t.\u0275fac=function(r){return new(r||t)(g(ne),g(De),g(se),g(Be),g(I),g(Y),g(We))},t.\u0275cmp=E({type:t,selectors:[["app-manage-order"]],decls:101,vars:20,consts:[[1,"add-order__content"],["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[1,"box-info__content"],[3,"formGroup"],["appearance","fill",1,"mat-25"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","contactNumber","required",""],["matInput","","formControlName","paymentMethod"],["value","Dinheiro"],["value","PIX"],["value","Cart\xE3o Cr\xE9dito"],["value","Cart\xE3o D\xE9bito"],["appearance","fill",1,"mat-20"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","type","number","required","","readonly",""],["matInput","","formControlName","quantity","required","",3,"keyup"],["input",""],["matInput","","formControlName","total","type","number","readonly",""],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",1,"float-right"],["mat-table","",1,"mat-elevation-z10",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","font-size: 0.6rem",4,"ngIf"],[2,"font-size","0.6rem"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","Deletar",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Pedidos"),n()(),a(4,"button",1),M("click",function(){return o.submitAction()}),m(5," FINALIZAR PEDIDO "),n()(),h(6,"hr"),a(7,"mat-card")(8,"b")(9,"span",2),m(10,"Dados do cliente"),n()(),a(11,"form",3)(12,"mat-form-field",4)(13,"mat-label"),m(14,"Nome"),n(),h(15,"input",5),d(16,Si,3,2,"mat-error",6),n(),a(17,"mat-form-field",4)(18,"mat-label"),m(19,"E-mail"),n(),h(20,"input",7),d(21,bi,3,2,"mat-error",6),n(),a(22,"mat-form-field",4)(23,"mat-label"),m(24,"Contato"),n(),h(25,"input",8),d(26,wi,3,2,"mat-error",6),n(),a(27,"mat-form-field",4)(28,"mat-label"),m(29,"Metodo de Pagamento"),n(),a(30,"mat-select",9)(31,"mat-option",10),m(32,"Dinheiro"),n(),a(33,"mat-option",11),m(34,"PIX"),n(),a(35,"mat-option",12),m(36,"Cart\xE3o Cr\xE9dito"),n(),a(37,"mat-option",13),m(38,"Cart\xE3o D\xE9bito"),n()(),d(39,Ii,2,1,"mat-error",6),n()()(),h(40,"hr"),a(41,"mat-card")(42,"b")(43,"span"),m(44,"Selecione o produto"),n()(),a(45,"form",3)(46,"div")(47,"mat-form-field",14)(48,"mat-label"),m(49,"Categoria"),n(),a(50,"mat-select",15),M("selectionChange",function(p){return o.getProductsByCategory(p.value)}),d(51,Oi,2,2,"mat-option",16),n()(),a(52,"mat-form-field",14)(53,"mat-label"),m(54,"Produto"),n(),a(55,"mat-select",17),M("selectionChange",function(p){return o.getProductsDetails(p.value)}),d(56,Ti,2,2,"mat-option",16),n()(),a(57,"mat-form-field",14)(58,"mat-label"),m(59,"Pre\xE7o"),n(),h(60,"input",18),d(61,ki,3,2,"mat-error",6),n(),a(62,"mat-form-field",14)(63,"mat-label"),m(64,"Quantidade"),n(),a(65,"input",19,20),M("keyup",function(p){return o.setQuantity(p)}),n(),d(67,Vi,3,2,"mat-error",6),n(),a(68,"mat-form-field",14)(69,"mat-label"),m(70,"TOTAL"),n(),h(71,"input",21),n()()(),a(72,"div")(73,"button",22),M("click",function(){return o.add()}),m(74," ADICIONAR PRODUTO "),n(),a(75,"button",23),m(76),J(77,"currency"),n()()(),h(78,"hr"),a(79,"div")(80,"table",24),C(81,25),d(82,Bi,2,0,"th",26)(83,Ni,2,1,"td",27),v(),C(84,28),d(85,ji,2,0,"th",26)(86,Hi,2,1,"td",27),v(),C(87,29),d(88,qi,2,0,"th",26)(89,Li,3,4,"td",27),v(),C(90,30),d(91,Ui,2,0,"th",26)(92,$i,2,1,"td",27),v(),C(93,31),d(94,Gi,2,0,"th",26)(95,zi,3,4,"td",27),v(),C(96,32),d(97,Qi,2,0,"th",26)(98,Xi,4,0,"td",27),v(),d(99,Ji,1,0,"tr",33)(100,Wi,1,0,"tr",34),n()()),r&2&&(s(4),c("disabled",o.validadeSubmit()),s(7),c("formGroup",o.manageOrderForm),s(5),c("ngIf",o.manageOrderForm.controls.name.touched&&o.manageOrderForm.controls.name.invalid),s(5),c("ngIf",o.manageOrderForm.controls.email.touched&&o.manageOrderForm.controls.email.invalid),s(5),c("ngIf",o.manageOrderForm.controls.contactNumber.touched&&o.manageOrderForm.controls.contactNumber.invalid),s(13),c("ngIf",o.manageOrderForm.controls.paymentMethod.touched&&o.manageOrderForm.controls.paymentMethod.invalid),s(6),c("formGroup",o.manageOrderForm),s(6),c("ngForOf",o.categorys),s(5),c("ngForOf",o.products),s(5),c("ngIf",o.manageOrderForm.controls.price.touched&&o.manageOrderForm.controls.price.invalid),s(6),c("ngIf",o.manageOrderForm.controls.quantity.touched&&o.manageOrderForm.controls.quantity.invalid),s(6),c("disabled",o.validadeProductAdd()),s(3),X(" ",W(77,17,o.totalAmount,"BRL"),""),s(4),c("dataSource",o.dataSource),s(19),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[qe,ue,Le,R,K,te,A,B,q,N,V,L,j,H,U,$,T,O,Oe,ee,F,Ue,ie,be,ve,ut,Se,Me,we,ye,Ee,ne],styles:[".float-right[_ngcontent-%COMP%]{float:right}.add-order__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}button[_ngcontent-%COMP%]{margin:5px}mat-form-field[_ngcontent-%COMP%]{padding-right:5px}mat-card[_ngcontent-%COMP%]{margin:5px;padding:5px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}.mat-mdc-form-field[_ngcontent-%COMP%]{width:99%}.mat-50[_ngcontent-%COMP%]{width:49%}.mat-25[_ngcontent-%COMP%]{width:25%}.mat-20[_ngcontent-%COMP%]{width:20%}b[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;padding:10px}hr[_ngcontent-%COMP%]{margin:5px}@media (max-width: 768px){.mat-25[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:98%}.mat-20[_ngcontent-%COMP%]{width:98%;display:flex;flex-direction:column}table[_ngcontent-%COMP%], .add-order__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;font-size:.5rem}}"]});let e=t;return e})();function Zi(e,t){e&1&&(a(0,"th",15),m(1,"Nome"),n())}function Ki(e,t){if(e&1&&(a(0,"td",16),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function Yi(e,t){e&1&&(a(0,"th",15),m(1,"Categoria"),n())}function en(e,t){if(e&1&&(a(0,"td",16),m(1),n()),e&2){let l=t.$implicit;s(),_(l.category)}}function tn(e,t){e&1&&(a(0,"th",15),m(1,"Pre\xE7o"),n())}function nn(e,t){if(e&1&&(a(0,"td",16),m(1),n()),e&2){let l=t.$implicit;s(),_(l.price)}}function an(e,t){e&1&&(a(0,"th",15),m(1,"Quantidade"),n())}function rn(e,t){if(e&1&&(a(0,"td",16),m(1),n()),e&2){let l=t.$implicit;s(),_(l.quantity)}}function on(e,t){e&1&&(a(0,"th",15),m(1,"total"),n())}function mn(e,t){if(e&1&&(a(0,"td",16),m(1),J(2,"currency"),n()),e&2){let l=t.$implicit;s(),_(W(2,1,l.total,"BRL"))}}function ln(e,t){e&1&&h(0,"tr",17)}function sn(e,t){e&1&&h(0,"tr",18)}var Tt=(()=>{let t=class t{constructor(i,r){this.dialogData=i,this.dialogRef=r,this.displayedColumns=["name","category","price","quantity","total"]}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails)}};t.\u0275fac=function(r){return new(r||t)(g(re),g(he))},t.\u0275cmp=E({type:t,selectors:[["app-view-bill-products"]],decls:47,vars:8,consts:[["color","primary"],[1,"title-center"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],["id","customers"],[1,"count-content"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3,"Detalhes da Conta"),n(),a(4,"button",2)(5,"mat-icon"),m(6,"cancel"),n()()()(),a(7,"mat-dialog-content")(8,"table",3)(9,"tr")(10,"td")(11,"b"),m(12,"Name: "),n(),m(13),n(),a(14,"td")(15,"b"),m(16,"Email: "),n(),m(17),n()(),a(18,"tr")(19,"td")(20,"b"),m(21,"Contato: "),n(),m(22),n(),a(23,"td")(24,"b"),m(25,"M\xE9todo de Pagamento: "),n(),m(26),n()()()(),a(27,"div",4),h(28,"br"),a(29,"table",5),C(30,6),d(31,Zi,2,0,"th",7)(32,Ki,2,1,"td",8),v(),C(33,9),d(34,Yi,2,0,"th",7)(35,en,2,1,"td",8),v(),C(36,10),d(37,tn,2,0,"th",7)(38,nn,2,1,"td",8),v(),C(39,11),d(40,an,2,0,"th",7)(41,rn,2,1,"td",8),v(),C(42,12),d(43,on,2,0,"th",7)(44,mn,3,4,"td",8),v(),d(45,ln,1,0,"tr",13)(46,sn,1,0,"tr",14),n()()),r&2&&(s(13),_(o.data.name),s(4),_(o.data.email),s(5),_(o.data.contactNumber),s(4),_(o.data.paymentMethod),s(3),c("dataSource",o.dataSource),s(16),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[K,A,B,q,N,V,L,j,H,U,$,oe,me,ee,Fe,Te,ne],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10PX}.count-content[_ngcontent-%COMP%]{margin:20px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}"]});let e=t;return e})();var Ft=mt(at());function cn(e,t){e&1&&(a(0,"th",14),m(1,"Nome"),n())}function dn(e,t){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function pn(e,t){e&1&&(a(0,"th",14),m(1,"Email"),n())}function un(e,t){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let l=t.$implicit;s(),_(l.email)}}function fn(e,t){e&1&&(a(0,"th",14),m(1,"Contato"),n())}function gn(e,t){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let l=t.$implicit;s(),_(l.contactNumber)}}function hn(e,t){e&1&&(a(0,"th",14),m(1,"M\xE9todo de Pagamento"),n())}function _n(e,t){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let l=t.$implicit;s(),_(l.paymentMethod)}}function Cn(e,t){e&1&&(a(0,"th",14),m(1,"Total"),n())}function vn(e,t){if(e&1&&(a(0,"td",15),m(1),J(2,"currency"),n()),e&2){let l=t.$implicit;s(),_(W(2,1,l.total,"BRL"))}}function Sn(e,t){e&1&&(a(0,"th",14),m(1,"A\xE7\xF5es"),n())}function Mn(e,t){if(e&1){let l=Q();a(0,"td",15)(1,"button",16),M("click",function(){let o=w(l).$implicit,u=x();return D(u.handleViewAction(o))}),a(2,"mat-icon"),m(3,"visibility"),n()(),a(4,"button",17),M("click",function(){let o=w(l).$implicit,u=x();return D(u.downloadReportAction(o))}),a(5,"mat-icon"),m(6,"summarize"),n()(),a(7,"button",18),M("click",function(){let o=w(l).$implicit,u=x();return D(u.handleDeleteAction(o))}),a(8,"mat-icon"),m(9,"delete"),n()()()}}function xn(e,t){e&1&&h(0,"tr",19)}function bn(e,t){e&1&&h(0,"tr",20)}var Pt=(()=>{let t=class t{constructor(i,r,o,u,p){this.billService=i,this.ngxService=r,this.snackbarService=o,this.router=u,this.dialog=p,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","view"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.billService.getBills().subscribe(i=>{this.ngxService.stop(),this.dataSource=new le(i)},i=>{this.ngxService.stop(),i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}applyFilter(i){let r=i.target.value;this.dataSource.filter=r.trim().toLowerCase()}handleViewAction(i){let r=new Z;r.data={data:i},r.width="100%";let o=this.dialog.open(Tt,r);this.router.events.subscribe(()=>{o.close()})}downloadReportAction(i){this.ngxService.start();var r={name:i.name,email:i.email,uuid:i.uuid,contactNumber:i.contactNumber,paymentMethod:i.paymentMethod,totalAmout:i.totalAmout,productDetails:i.productDetails};this.billService.getPDF(r).subscribe(o=>{(0,Ft.saveAs)(o,i.uuid+"pdf"),this.ngxService.stop()})}handleDeleteAction(i){let r=new Z;r.data={message:"deletar a "+i.name+" Conta "};let o=this.dialog.open(_t,r),u=o.componentInstance.onEmitStatusChange.subscribe(p=>{this.ngxService.start(),this.deleteProduct(i.id),o.close()})}deleteProduct(i){this.billService.delete(i).subscribe(r=>{this.ngxService.stop(),this.tableData(),this.responseMessage=r?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},r=>{this.ngxService.stop(),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}};t.\u0275fac=function(r){return new(r||t)(g(We),g(Y),g(I),g(ge),g(_e))},t.\u0275cmp=E({type:t,selectors:[["app-view-bill"]],decls:32,vars:4,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","Ver",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download PDF",3,"click"],["mat-icon-button","","color","primary","matTooltip","Deletar Conta",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-card")(1,"b")(2,"span"),m(3,"Ver contas"),n()()(),a(4,"mat-card")(5,"mat-form-field",0)(6,"mat-label"),m(7,"Filtro"),n(),a(8,"input",1,2),M("keyup",function(p){return o.applyFilter(p)}),n()()(),a(10,"div")(11,"table",3),C(12,4),d(13,cn,2,0,"th",5)(14,dn,2,1,"td",6),v(),C(15,7),d(16,pn,2,0,"th",5)(17,un,2,1,"td",6),v(),C(18,8),d(19,fn,2,0,"th",5)(20,gn,2,1,"td",6),v(),C(21,9),d(22,hn,2,0,"th",5)(23,_n,2,1,"td",6),v(),C(24,10),d(25,Cn,2,0,"th",5)(26,vn,3,4,"td",6),v(),C(27,11),d(28,Sn,2,0,"th",5)(29,Mn,10,0,"td",6),v(),d(30,xn,1,0,"tr",12)(31,bn,1,0,"tr",13),n()()),r&2&&(s(11),c("dataSource",o.dataSource),s(19),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[K,te,A,B,q,N,V,L,j,H,U,$,T,O,ee,F,ie,ne],styles:["mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}"]});let e=t;return e})();function yn(e,t){e&1&&(a(0,"th",12),m(1,"Nome"),n())}function En(e,t){if(e&1&&(a(0,"td",13),m(1),n()),e&2){let l=t.$implicit;s(),_(l.name)}}function wn(e,t){e&1&&(a(0,"th",12),m(1,"Email"),n())}function Dn(e,t){if(e&1&&(a(0,"td",13),m(1),n()),e&2){let l=t.$implicit;s(),_(l.email)}}function In(e,t){e&1&&(a(0,"th",12),m(1,"Contato"),n())}function On(e,t){if(e&1&&(a(0,"td",13),m(1),n()),e&2){let l=t.$implicit;s(),_(l.contactNumber)}}function Tn(e,t){e&1&&(a(0,"th",12),m(1,"A\xE7\xF5es"),n())}function Fn(e,t){if(e&1){let l=Q();a(0,"td",13)(1,"mat-slide-toggle",14),M("change",function(r){let u=w(l).$implicit,p=x();return D(p.handleChangeAction(r.checked,u.id))}),n()()}if(e&2){let l=t.$implicit;s(),c("checked",l.status)}}function Pn(e,t){e&1&&h(0,"tr",15)}function kn(e,t){e&1&&h(0,"tr",16)}var kt=(()=>{let t=class t{constructor(i,r,o){this.ngxService=i,this.userService=r,this.snackbarService=o,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe(i=>{this.ngxService.stop(),this.dataSource=new le(i)},i=>{this.ngxService.stop(),i.error?.message?this.responseMessage=i.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}applyFilter(i){let r=i.target.value;this.dataSource.filter=r.trim().toLowerCase()}handleChangeAction(i,r){this.ngxService.start();var o={status:i.toString(),id:r};this.userService.update(o).subscribe(u=>{this.ngxService.stop(),this.responseMessage=u?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},u=>{this.ngxService.stop(),u.error?.message?this.responseMessage=u.error?.message:this.responseMessage=f.genericError,this.snackbarService.openSnackbar(this.responseMessage,f.error)})}};t.\u0275fac=function(r){return new(r||t)(g(Y),g(ht),g(I))},t.\u0275cmp=E({type:t,selectors:[["app-manage-user"]],decls:27,vars:4,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary","matTooltip","Mudar status do Usu\xE1rio",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(a(0,"mat-card")(1,"b")(2,"span"),m(3,"Gerenciar Usu\xE1rios"),n()()(),h(4,"hr"),a(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),m(8,"Filtro"),n(),a(9,"input",1,2),M("keyup",function(p){return o.applyFilter(p)}),n()()(),a(11,"div")(12,"table",3),C(13,4),d(14,yn,2,0,"th",5)(15,En,2,1,"td",6),v(),C(16,7),d(17,wn,2,0,"th",5)(18,Dn,2,1,"td",6),v(),C(19,8),d(20,In,2,0,"th",5)(21,On,2,1,"td",6),v(),C(22,9),d(23,Tn,2,0,"th",5)(24,Fn,2,1,"td",6),v(),d(25,Pn,1,0,"tr",10)(26,kn,1,0,"tr",11),n()()),r&2&&(s(12),c("dataSource",o.dataSource),s(13),c("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),s(),c("matRowDefColumns",o.displayedColumns))},dependencies:[te,A,B,q,N,V,L,j,H,U,$,T,O,F,$e,ie],styles:["mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}"]});let e=t;return e})();var Rt=[{path:"category",component:yt,canActivate:[Pe],data:{expectedRole:["admin"]}},{path:"product",component:wt,canActivate:[Pe],data:{expectedRole:["admin"]}},{path:"order",component:Ot,canActivate:[Pe],data:{expectedRole:["admin","user"]}},{path:"bill",component:Pt,canActivate:[Pe],data:{expectedRole:["admin","user"]}},{path:"user",component:kt,canActivate:[Pe],data:{expectedRole:["admin","user"]}}];var ur=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=lt({imports:[ct,pt.forChild(Rt),vt,dt,ft,gt,Ct]});let e=t;return e})();export{ur as MaterialComponentsModule};
