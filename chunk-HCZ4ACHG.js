import{a as ft,e as Fe}from"./chunk-YOIHSJBT.js";import{$ as Ie,A as we,Aa as $e,B as ee,Ba as ht,C as te,D as me,G as De,J as ut,M as ne,P as g,Q as Oe,R as O,S as ie,T as P,U as I,V as Pe,Y as T,Z as ae,_ as F,a as Q,aa as Te,ba as B,c as he,e as ct,i as _e,j as y,k as Ce,l as Me,m as xe,ma as gt,n as ve,na as V,o as st,oa as N,p as Se,pa as j,q as be,qa as H,r as Le,ra as q,s as ye,sa as L,t as dt,ta as U,u as pt,ua as G,va as $,w as Ue,wa as z,x as K,xa as le,y as Ee,ya as oe,z as Y,za as Ge}from"./chunk-5G5WMYVQ.js";import{$ as pe,Ab as i,Bb as h,Cb as C,Db as M,Ec as qe,Fb as J,Fc as ge,Hc as re,Ic as lt,Jb as x,Lb as S,Vb as m,Wb as _,Xb as fe,aa as rt,ac as W,bb as c,bc as Z,cb as f,d as Rt,e as At,fa as ue,fb as X,ja as E,ka as mt,na as w,oa as D,ob as d,qb as s,zb as a}from"./chunk-XCBEHHDA.js";var wt=Rt((nt,it)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof nt<"u"?t():(t(),e.FileSaver={})})(nt,function(){"use strict";function e(u,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function t(u,v,A){var b=new XMLHttpRequest;b.open("GET",u),b.responseType="blob",b.onload=function(){p(b.response,v,A)},b.onerror=function(){console.error("could not download file")},b.send()}function l(u){var v=new XMLHttpRequest;v.open("HEAD",u,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function n(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(v)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(u,v,A){var b=o.URL||o.webkitURL,k=document.createElement("a");v=v||u.name||"download",k.download=v,k.rel="noopener",typeof u=="string"?(k.href=u,k.origin===location.origin?n(k):l(k.href)?t(u,v,A):n(k,k.target="_blank")):(k.href=b.createObjectURL(u),setTimeout(function(){b.revokeObjectURL(k.href)},4e4),setTimeout(function(){n(k)},0))}:"msSaveOrOpenBlob"in navigator?function(u,v,A){if(v=v||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(e(u,A),v);else if(l(u))t(u,v,A);else{var b=document.createElement("a");b.href=u,b.target="_blank",setTimeout(function(){n(b)})}}:function(u,v,A,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof u=="string")return t(u,v,A);var k=u.type==="application/octet-stream",kt=/constructor/i.test(o.HTMLElement)||o.safari,at=/CriOS\/[\d]+/.test(navigator.userAgent);if((at||k&&kt||r)&&typeof FileReader<"u"){var Ze=new FileReader;Ze.onloadend=function(){var Ve=Ze.result;Ve=at?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=Ve:location=Ve,b=null},Ze.readAsDataURL(u)}else{var ot=o.URL||o.webkitURL,Ke=ot.createObjectURL(u);b?b.location=Ke:location.href=Ke,b=null,setTimeout(function(){ot.revokeObjectURL(Ke)},4e4)}});o.saveAs=p.saveAs=p,typeof it<"u"&&(it.exports=p)})});var ce=(()=>{let t=class t{constructor(n){this.httpClient=n,this.url=Oe.apiUrl}add(n){return this.httpClient.post(this.url+"/category/add",n,{headers:new Q().set("Content-Type","application/json")})}update(n){return this.httpClient.patch(this.url+"/category/update",n,{headers:new Q().set("Content-Type","application/json")})}getCategorys(){return this.httpClient.get(this.url+"/category/get")}};t.\u0275fac=function(o){return new(o||t)(ue(he))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Bt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrig\xE1torio."),i())}function Vt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Bt,2,0,"span",5),i()),e&2){let l=S();c(),s("ngIf",l.categoryForm.controls.name.errors.required)}}var Ye=(()=>{let t=class t{constructor(n,o,r,p,u){this.dialogData=n,this.formBuilder=o,this.categoryService=r,this.dialogRef=p,this.snackbarService=u,this.onAddCategory=new X,this.onEditCategory=new X,this.categoryForm=xe,this.dialogAction="Add",this.action="ADICIONAR"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[y.required]]}),this.dialogData.action==="Edit"&&(this.dialogAction="Edit",this.action="EDITAR",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){this.dialogAction==="Edit"?this.edit():this.add()}add(){var n=this.categoryForm.value,o={name:n.name};this.categoryService.add(o).subscribe(r=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=r.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},r=>{this.dialogRef.close(),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}edit(){var n=this.categoryForm.value,o={id:this.dialogData.data.id,name:n.name};this.categoryService.update(o).subscribe(r=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=r.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},r=>{r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(Y),f(ye),f(ce),f(Ee),f(P))},t.\u0275cmp=E({type:t,selectors:[["app-category"]],decls:17,vars:5,consts:[["color","primary"],[1,"title-center"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(o,r){o&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3),i()()(),a(4,"mat-dialog-content")(5,"form",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),m(9,"Nome"),i(),h(10,"input",4),d(11,Vt,2,1,"mat-error",5),i()()()(),a(12,"mat-dialog-actions",6)(13,"button",7),x("click",function(){return r.handleSubmit()}),m(14),i(),a(15,"button",8),m(16,"FECHAR"),i()()),o&2&&(c(3),_(r.dialogData.action),c(2),s("formGroup",r.categoryForm),c(6),s("ngIf",r.categoryForm.controls.name.touched&&r.categoryForm.controls.name.invalid),c(2),s("disabled",!(r.categoryForm.valid&&r.categoryForm.dirty)),c(),fe(" ",r.action," "))},dependencies:[ge,O,ee,me,te,T,I,Pe,F,Te,Ie,ve,_e,Ce,Me,Le,Se,be],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{flex-direction:column;display:flex}@media screen and (min-width: 360px) and (max-width: 728px){.title-center[_ngcontent-%COMP%]{font-size:.8rem}mat-dialog-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:.7rem}}"]});let e=t;return e})();function Nt(e,t){e&1&&(a(0,"th",13),m(1,"NOME"),i())}function jt(e,t){if(e&1&&(a(0,"td",14),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function Ht(e,t){e&1&&(a(0,"th",13),m(1,"EDITAR"),i())}function qt(e,t){if(e&1){let l=J();a(0,"td",15)(1,"button",16),x("click",function(){let r=w(l).$implicit,p=S();return D(p.handleEditAction(r))}),a(2,"mat-icon"),m(3,"edit"),i()()()}}function Lt(e,t){e&1&&h(0,"tr",17)}function Ut(e,t){e&1&&h(0,"tr",18)}var vt=(()=>{let t=class t{constructor(n,o,r,p,u){this.categoryService=n,this.ngxService=o,this.dialog=r,this.snackbarService=p,this.router=u,this.displayedColumns=["name","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.categoryService.getCategorys().subscribe(n=>{this.ngxService.stop(),this.dataSource=new le(n)},n=>{this.ngxService.stop(),n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}applyFilter(n){let o=n.target.value;this.dataSource.filter=o.trim().toLowerCase()}handleAddAction(){let n=new K;n.data={action:"ADICIONAR CATEGORIA"},n.width="550px";let o=this.dialog.open(Ye,n);this.router.events.subscribe(()=>{o.close()});let r=o.componentInstance.onAddCategory.subscribe(p=>{this.tableData()})}handleEditAction(n){let o=new K;o.data={action:"Edit",data:n},o.width="550px";let r=this.dialog.open(Ye,o);this.router.events.subscribe(()=>{r.close()});let p=r.componentInstance.onEditCategory.subscribe(u=>{this.tableData()})}};t.\u0275fac=function(o){return new(o||t)(f(ce),f(ne),f(we),f(P),f(De))},t.\u0275cmp=E({type:t,selectors:[["app-manage-category"]],decls:24,vars:4,consts:[[1,"add-category__content"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","outline"],["matInput","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z0",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Categoria"),i()(),a(4,"button",1),x("click",function(){return r.handleAddAction()}),m(5," ADICIONAR CATEGORIA "),i()(),h(6,"hr"),a(7,"mat-card")(8,"mat-form-field",2)(9,"mat-label"),m(10,"Procurar Categoria"),i(),a(11,"input",3,4),x("keyup",function(u){return r.applyFilter(u)}),i()()(),h(13,"hr"),a(14,"mat-card")(15,"table",5),C(16,6),d(17,Nt,2,0,"th",7)(18,jt,2,1,"td",8),M(),C(19,9),d(20,Ht,2,0,"th",7)(21,qt,4,0,"td",10),M(),d(22,Lt,1,0,"tr",11)(23,Ut,1,0,"tr",12),i()()),o&2&&(c(15),s("dataSource",r.dataSource),c(7),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[O,ie,B,V,j,U,H,N,G,q,L,$,z,T,I,ae,F,oe],styles:[".float-right[_ngcontent-%COMP%]{float:right}.add-category__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}@media screen and (min-width: 360px) and (max-width: 728px){mat-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem}.add-category__content[_ngcontent-%COMP%]{flex-direction:column}.add-category__content[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:.7rem;margin-top:15px}}"]});let e=t;return e})();var St=(()=>{let t=class t{constructor(n){this.dialogData=n,this.onEmitStatusChange=new X,this.details={}}ngOnInit(){this.dialogData&&(this.details=this.dialogData)}handleChangeAction(){this.onEmitStatusChange.emit()}};t.\u0275fac=function(o){return new(o||t)(f(Y))},t.\u0275cmp=E({type:t,selectors:[["app-confirmation-delete"]],decls:8,vars:0,consts:[["align","center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(o,r){o&1&&(a(0,"mat-dialog-content")(1,"h5"),m(2," Deseja apagar o produto "),i()(),a(3,"mat-dialog-actions",0)(4,"button",1),x("click",function(){return r.handleChangeAction()}),m(5,"SIM"),i(),a(6,"button",2),m(7,"FECHAR"),i()())},dependencies:[O,ee,me,te],styles:["h5[_ngcontent-%COMP%]{font-size:19px}"]});let e=t;return e})();var Be=(()=>{let t=class t{constructor(n){this.httpClient=n,this.url=Oe.apiUrl}add(n){return this.httpClient.post(this.url+"/product/add/",n,{headers:new Q().set("Content-Type","application/json")})}update(n){return this.httpClient.patch(this.url+"/product/update/",n,{headers:new Q().set("Content-Type","application/json")})}updateStatus(n){return this.httpClient.patch(this.url+"/product/updateStatus",n,{headers:new Q().set("Content-Type","application/json")})}delete(n){return this.httpClient.delete(this.url+"/product/delete/"+n,{headers:new Q().set("Content-Type","application/json")})}getProducts(){return this.httpClient.get(this.url+"/product/get")}getProductsByCategory(n){return this.httpClient.get(this.url+"/product/getByCategory/"+n)}getById(n){return this.httpClient.get(this.url+"/product/getById/"+n)}};t.\u0275fac=function(o){return new(o||t)(ue(he))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function zt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function Qt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function Xt(e,t){if(e&1&&(a(0,"mat-error"),d(1,zt,2,0,"span",5)(2,Qt,2,0,"span",5),i()),e&2){let l=S();c(),s("ngIf",l.productForm.controls.name.errors.required),c(),s("ngIf",l.productForm.controls.name.errors.pattern)}}function Jt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function Wt(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function Zt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Jt,2,0,"span",5)(2,Wt,2,0,"span",5),i()),e&2){let l=S();c(),s("ngIf",l.productForm.controls.price.errors.required),c(),s("ngIf",l.productForm.controls.price.errors.pattern)}}function Kt(e,t){e&1&&(a(0,"span"),m(1,"Por favor, selecione uma categoria."),i())}function Yt(e,t){if(e&1&&(a(0,"mat-error"),d(1,Kt,2,0,"span",5),i()),e&2){let l=S();c(),s("ngIf",l.productForm.controls.price.errors.required)}}function en(e,t){if(e&1&&(a(0,"mat-option",13),m(1),i()),e&2){let l=t.$implicit;s("value",l.id),c(),_(l.name)}}function tn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function nn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function an(e,t){if(e&1&&(a(0,"mat-error"),d(1,tn,2,0,"span",5)(2,nn,2,0,"span",5),i()),e&2){let l=S();c(),s("ngIf",l.productForm.controls.description.errors.required),c(),s("ngIf",l.productForm.controls.description.errors.pattern)}}var tt=(()=>{let t=class t{constructor(n,o,r,p,u,v){this.dialogData=n,this.formBuilder=o,this.productService=r,this.dialogRef=p,this.categoryService=u,this.snackbarService=v,this.onAddProduct=new X,this.onEditProduct=new X,this.productForm=xe,this.dialogAction="Add",this.action="Add",this.categorys=[]}ngOnInit(){this.productForm=this.formBuilder.group({name:[null,[y.required,y.pattern(g.nameRegexWithAccents)]],categoryId:[null,[y.required]],price:[null,[y.required,y.pattern(g.priceRegex)]],description:[null,[y.required]]}),this.dialogData.action==="Edit"&&(this.dialogAction="Edit",this.action="ATUALIZAR",this.productForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys(){this.categoryService.getCategorys().subscribe(n=>{this.categorys=n},n=>{n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}handleSubmit(){this.dialogAction==="Edit"?this.edit():this.add()}add(){var n=this.productForm.value,o={name:n.name,categoryId:n.categoryId,price:n.price,description:n.description};this.productService.add(o).subscribe(r=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=r.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},r=>{r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}edit(){var n=this.productForm.value,o={id:this.dialogData.data.id,name:n.name,categoryId:n.categoryId,price:n.price,description:n.description};this.productService.update(o).subscribe(r=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=r.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},r=>{r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(Y),f(ye),f(Be),f(Ee),f(ce),f(P))},t.\u0275cmp=E({type:t,selectors:[["app-product"]],decls:36,vars:7,consts:[["color","primary",1,"mat-elevavation-z4"],[1,"title-center"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","price"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description"],["align","center",1,"btn-content"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(o,r){o&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3," Produto"),i()()(),a(4,"mat-dialog-content")(5,"form",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),m(9,"Nome"),i(),h(10,"input",4),d(11,Xt,3,2,"mat-error",5),i()(),a(12,"div")(13,"mat-form-field",3)(14,"mat-label"),m(15,"Pre\xE7o"),i(),h(16,"input",6),d(17,Zt,3,2,"mat-error",5),i()(),a(18,"div")(19,"mat-form-field",3)(20,"mat-label"),m(21,"Categoria"),i(),d(22,Yt,2,1,"mat-error",5),a(23,"mat-select",7),d(24,en,2,2,"mat-option",8),i()()(),a(25,"div")(26,"mat-form-field",3)(27,"mat-label"),m(28,"Descri\xE7\xE3o"),i(),h(29,"input",9),d(30,an,3,2,"mat-error",5),i()()()(),a(31,"mat-dialog-actions",10)(32,"button",11),x("click",function(){return r.handleSubmit()}),m(33," ADIDIONAR "),i(),a(34,"button",12),m(35,"FECHAR"),i()()),o&2&&(c(5),s("formGroup",r.productForm),c(6),s("ngIf",r.productForm.controls.name.touched&&r.productForm.controls.name.invalid),c(6),s("ngIf",r.productForm.controls.price.touched&&r.productForm.controls.price.invalid),c(5),s("ngIf",r.productForm.controls.price.touched&&r.productForm.controls.price.invalid),c(2),s("ngForOf",r.categorys),c(6),s("ngIf",r.productForm.controls.description.touched&&r.productForm.controls.description.invalid),c(2),s("disabled",!(r.productForm.valid&&r.productForm.dirty)))},dependencies:[qe,ge,Ue,O,ee,me,te,T,I,Pe,F,Ge,Te,Ie,ve,_e,Ce,Me,Se,be],styles:["mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{flex-direction:column;display:flex}@media screen and (min-width: 360px) and (max-width: 728px){.btn-content[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:.6rem;margin:5px}.btn-content[_ngcontent-%COMP%] > mat-label[_ngcontent-%COMP%]{font-size:.3rem}mat-dialog-content[_ngcontent-%COMP%]{padding:10px}}"]});let e=t;return e})();function rn(e,t){e&1&&(a(0,"th",18),m(1,"NOME"),i())}function mn(e,t){if(e&1&&(a(0,"td",19),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function ln(e,t){e&1&&(a(0,"th",18),m(1,"CATEGORIA"),i())}function cn(e,t){if(e&1&&(a(0,"td",19),m(1),i()),e&2){let l=t.$implicit;c(),_(l.categoryName)}}function sn(e,t){e&1&&(a(0,"th",18),m(1,"DESCRI\xC7\xC3O"),i())}function dn(e,t){if(e&1&&(a(0,"td",19),m(1),i()),e&2){let l=t.$implicit;c(),_(l.description)}}function pn(e,t){e&1&&(a(0,"th",18),m(1,"PRE\xC7O"),i())}function un(e,t){if(e&1&&(a(0,"td",19),m(1),W(2,"currency"),i()),e&2){let l=t.$implicit;c(),_(Z(2,1,l.price,"BRL"))}}function fn(e,t){e&1&&(a(0,"th",18),m(1,"EDITAR"),i())}function gn(e,t){if(e&1){let l=J();a(0,"td",20)(1,"button",21),x("click",function(){let r=w(l).$implicit,p=S();return D(p.handleEditAction(r))}),a(2,"mat-icon"),m(3,"edit"),i()(),a(4,"button",22),x("click",function(){let r=w(l).$implicit,p=S();return D(p.handleDeleteAction(r))}),a(5,"mat-icon"),m(6,"delete"),i()(),a(7,"mat-slide-toggle",23),x("change",function(o){let p=w(l).$implicit,u=S();return D(u.onChange(o.checked,p.id))}),i()()}if(e&2){let l=t.$implicit;c(7),s("checked",l.status)}}function hn(e,t){e&1&&h(0,"tr",24)}function _n(e,t){e&1&&h(0,"tr",25)}var bt=(()=>{let t=class t{constructor(n,o,r,p,u){this.productService=n,this.ngxService=o,this.dialog=r,this.snackbarService=p,this.router=u,this.displayedColumns=["name","categoryName","description","price","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.productService.getProducts().subscribe(n=>{this.ngxService.stop(),this.dataSource=new le(n)},n=>{this.ngxService.stop(),console.log(n),n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}applyFilter(n){let o=n.target.value;this.dataSource.filter=o.trim().toLowerCase()}handleAddAction(){let n=new K;n.data={action:"Add"},n.width="650px";let o=this.dialog.open(tt,n);this.router.events.subscribe(()=>{o.close()});let r=o.componentInstance.onAddProduct.subscribe(p=>{this.tableData()})}handleEditAction(n){let o=new K;o.data={action:"Edit",data:n},o.width="650px";let r=this.dialog.open(tt,o);this.router.events.subscribe(()=>{r.close()});let p=r.componentInstance.onEditProduct.subscribe(u=>{this.tableData()})}handleDeleteAction(n){let o=new K;o.data={message:""+n.name+" produto "};let r=this.dialog.open(St,o),p=r.componentInstance.onEmitStatusChange.subscribe(u=>{this.ngxService.start(),this.deleteProduct(n.id),r.close()})}deleteProduct(n){this.productService.delete(n).subscribe(o=>{this.ngxService.stop(),this.tableData(),this.responseMessage=o?.message,this.snackbarService.openSnackbar(this.responseMessage,"success")},o=>{this.ngxService.stop(),console.log(o),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}onChange(n,o){var r={status:n.toString(),id:o};this.productService.updateStatus(r).subscribe(p=>{this.ngxService.stop(),this.responseMessage=p?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},p=>{this.ngxService.stop(),console.log(p),p.error?.message?this.responseMessage=p.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(Be),f(ne),f(we),f(P),f(De))},t.\u0275cmp=E({type:t,selectors:[["app-manage-product"]],decls:34,vars:4,consts:[[1,"add-product__content"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","outline"],["matInput","",3,"keyup"],["input",""],[1,"card-container"],[1,"table-content"],["mat-table","",1,"mat-elevation-z4",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","primary","matTooltip","Deletar",3,"click"],["color","primary","matTooltip","Ativar ou Desativar Produto",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Produtos"),i()(),a(4,"button",1),x("click",function(){return r.handleAddAction()}),m(5," ADICIONAR PRODUTO "),i()(),h(6,"hr"),a(7,"mat-card")(8,"mat-form-field",2)(9,"mat-label"),m(10,"Procurar produto"),i(),a(11,"input",3,4),x("keyup",function(u){return r.applyFilter(u)}),i()()(),h(13,"hr"),a(14,"mat-card",5)(15,"div",6)(16,"table",7),C(17,8),d(18,rn,2,0,"th",9)(19,mn,2,1,"td",10),M(),C(20,11),d(21,ln,2,0,"th",9)(22,cn,2,1,"td",10),M(),C(23,12),d(24,sn,2,0,"th",9)(25,dn,2,1,"td",10),M(),C(26,13),d(27,pn,2,0,"th",9)(28,un,3,4,"td",10),M(),C(29,14),d(30,fn,2,0,"th",9)(31,gn,8,1,"td",15),M(),d(32,hn,1,0,"tr",16)(33,_n,1,0,"tr",17),i()()()),o&2&&(c(16),s("dataSource",r.dataSource),c(16),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[O,ie,B,V,j,U,H,N,G,q,L,$,z,T,I,ae,F,$e,oe,re],styles:["mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.table-content[_ngcontent-%COMP%]{overflow-x:auto}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px;flex-direction:column;display:flex}mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}.add-product__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}mat-slide-toggle[_ngcontent-%COMP%]{transform:translateY(-7px)}@media screen and (min-width: 360px) and (max-width: 728px){.add-product__content[_ngcontent-%COMP%]{flex-direction:column}.add-product__content[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:15px;font-size:.7rem}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:.7rem}}"]});let e=t;return e})();var We=(()=>{let t=class t{constructor(n){this.httpClient=n,this.url=Oe.apiUrl}generateReport(n){return this.httpClient.post(this.url+"/bill/generateReport/",n,{headers:new Q().set("Content-Type","application/json")})}getPDF(n){return this.httpClient.post(this.url+"/bill/getPdf",n,{responseType:"blob"})}getBills(){return this.httpClient.get(this.url+"/bill/getBills")}delete(n){return this.httpClient.delete(this.url+"/bill/delete/"+n,{headers:new Q().set("Content-Type","application/json")})}};t.\u0275fac=function(o){return new(o||t)(ue(he))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Cn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function Mn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function xn(e,t){if(e&1&&(a(0,"mat-error"),d(1,Cn,2,0,"span",6)(2,Mn,2,0,"span",6),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.name.errors.required),c(),s("ngIf",l.manageOrderForm.controls.name.errors.pattern)}}function vn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function Sn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function bn(e,t){if(e&1&&(a(0,"mat-error"),d(1,vn,2,0,"span",6)(2,Sn,2,0,"span",6),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.email.errors.required),c(),s("ngIf",l.manageOrderForm.controls.email.errors.pattern)}}function yn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function En(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function wn(e,t){if(e&1&&(a(0,"mat-error"),d(1,yn,2,0,"span",6)(2,En,2,0,"span",6),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.contactNumber.errors.required),c(),s("ngIf",l.manageOrderForm.controls.contactNumber.errors.pattern)}}function Dn(e,t){e&1&&(a(0,"span",39),m(1," Selecione um m\xE9todo de pagamento."),i())}function On(e,t){if(e&1&&(a(0,"mat-error"),d(1,Dn,2,0,"span",38),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.paymentMethod.errors.required)}}function Pn(e,t){if(e&1&&(a(0,"mat-option",40),m(1),i()),e&2){let l=t.$implicit;s("value",l),c(),_(l.name)}}function In(e,t){if(e&1&&(a(0,"mat-option",40),m(1),i()),e&2){let l=t.$implicit;s("value",l),c(),_(l.name)}}function Tn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function Fn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function kn(e,t){if(e&1&&(a(0,"mat-error"),d(1,Tn,2,0,"span",6)(2,Fn,2,0,"span",6),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.price.errors.required),c(),s("ngIf",l.manageOrderForm.controls.price.errors.pattern)}}function Rn(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 obrigat\xF3rio."),i())}function An(e,t){e&1&&(a(0,"span"),m(1,"Este campo \xE9 inv\xE1lido."),i())}function Bn(e,t){if(e&1&&(a(0,"mat-error"),d(1,Rn,2,0,"span",6)(2,An,2,0,"span",6),i()),e&2){let l=S();c(),s("ngIf",l.manageOrderForm.controls.quantity.errors.required),c(),s("ngIf",l.manageOrderForm.controls.quantity.errors.pattern)}}function Vn(e,t){e&1&&(a(0,"th",41),m(1,"Nome"),i())}function Nn(e,t){if(e&1&&(a(0,"td",42),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function jn(e,t){e&1&&(a(0,"th",41),m(1,"Categoria"),i())}function Hn(e,t){if(e&1&&(a(0,"td",42),m(1),i()),e&2){let l=t.$implicit;c(),_(l.category)}}function qn(e,t){e&1&&(a(0,"th",41),m(1,"Pre\xE7o"),i())}function Ln(e,t){if(e&1&&(a(0,"td",42),m(1),W(2,"currency"),i()),e&2){let l=t.$implicit;c(),fe(" ",Z(2,1,l.price,"BRL")," ")}}function Un(e,t){e&1&&(a(0,"th",41),m(1,"Quantidade"),i())}function Gn(e,t){if(e&1&&(a(0,"td",42),m(1),i()),e&2){let l=t.$implicit;c(),_(l.quantity)}}function $n(e,t){e&1&&(a(0,"th",41),m(1,"Total"),i())}function zn(e,t){if(e&1&&(a(0,"td",42),m(1),W(2,"currency"),i()),e&2){let l=t.$implicit;c(),fe(" ",Z(2,1,l.total,"BRL")," ")}}function Qn(e,t){e&1&&(a(0,"th",41),m(1,"Apagar"),i())}function Xn(e,t){if(e&1){let l=J();a(0,"td",42)(1,"button",43),x("click",function(){let o=w(l),r=o.index,p=o.$implicit,u=S();return D(u.handleDeleteAction(r,p))}),a(2,"mat-icon"),m(3,"delete"),i()()()}}function Jn(e,t){e&1&&h(0,"tr",44)}function Wn(e,t){e&1&&h(0,"tr",45)}var Et=(()=>{let t=class t{constructor(n,o,r,p,u,v,A){this.currencyPipe=n,this.formBuilder=o,this.categoryService=r,this.productService=p,this.snackbarService=u,this.ngxService=v,this.billService=A,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=xe,this.categorys=[],this.products=[],this.totalAmount=0}ngOnInit(){this.ngxService.start(),this.getCategorys(),this.manageOrderForm=this.formBuilder.group({name:[null,[y.required,y.pattern(g.nameRegex)]],email:[null,[y.required,y.pattern(g.emailRegex)]],contactNumber:[null,[y.required,y.pattern(g.contactNumberRegex)]],paymentMethod:[null,[y.required]],product:[null,[y.required]],category:[null,[y.required]],quantity:[null,[y.required]],price:[null,[y.required]],total:[null,[y.required]]})}getCategorys(){this.categoryService.getCategorys().subscribe(n=>{this.ngxService.stop(),this.categorys=n},n=>{this.ngxService.stop(),n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}getProductsByCategory(n){this.productService.getProductsByCategory(n.id).subscribe(o=>{this.products=o,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue("")},o=>{this.ngxService.stop(),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}getProductsDetails(n){this.productService.getById(n.id).subscribe(o=>{this.price=o.price,this.manageOrderForm.controls.price.setValue(o.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.price*1)},o=>{this.ngxService.stop(),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=g.error,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}setQuantity(n){var o=this.manageOrderForm.controls.quantity.value;o>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):o!=""&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validadeProductAdd(){return this.manageOrderForm.controls.total.value===0||this.manageOrderForm.controls.total.value===null||this.manageOrderForm.controls.quantity.value<=0}validadeSubmit(){return this.totalAmount===0||this.manageOrderForm.controls.name.value===null||this.manageOrderForm.controls.email.value===null||this.manageOrderForm.controls.contactNumber.value===null||this.manageOrderForm.controls.paymentMethod.value===null||!this.manageOrderForm.controls.contactNumber.valid||!this.manageOrderForm.controls.email.valid}add(){var n=this.manageOrderForm.value,o=this.dataSource.find(r=>r.id==n.product.id);o===void 0?(this.totalAmount=this.totalAmount+n.total,this.dataSource.push({id:n.product.id,name:n.name,category:n.category.name,quantity:n.quantity,price:n.price,total:n.total}),this.dataSource=[...this.dataSource],this.snackbarService.openSnackbar(g.productAdded,"sucess")):this.snackbarService.openSnackbar(g.productExistError,g.error)}handleDeleteAction(n,o){this.totalAmount=this.totalAmount-o.total,this.dataSource.splice(n,1),this.dataSource=[...this.dataSource]}submitAction(){this.ngxService.start();var n=this.manageOrderForm.value,o={name:n.name,email:n.email,contactNumber:n.contactNumber,paymentMethod:n.paymentMethod,totalAmount:this.totalAmount,productDetails:JSON.stringify(this.dataSource)};this.billService.generateReport(o).subscribe(r=>{this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0,this.ngxService.stop()},r=>{this.ngxService.stop(),r.error?.message?this.responseMessage=r.error?.message:this.responseMessage=g.error,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(re),f(ye),f(ce),f(Be),f(P),f(ne),f(We))},t.\u0275cmp=E({type:t,selectors:[["app-manage-order"]],decls:102,vars:20,consts:[[1,"add-order__content"],["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[1,"box-info__content"],[3,"formGroup"],["appearance","outline",1,"mat-25"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","email"],["matInput","","formControlName","contactNumber"],["matInput","","formControlName","paymentMethod"],["value","Dinheiro"],["value","PIX"],["value","Cart\xE3o Cr\xE9dito"],["value","Cart\xE3o D\xE9bito"],["appearance","outline",1,"mat-20"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","type","number","required","","readonly",""],["matInput","","formControlName","quantity","required","",3,"keyup"],["input",""],["matInput","","formControlName","total","type","number","readonly",""],[1,"btn-select-product"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",1,"float-right"],[1,"card-container"],[1,"card-content"],["mat-table","",1,"mat-elevation-z10",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","font-size: 0.6rem",4,"ngIf"],[2,"font-size","0.6rem"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","Deletar",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-card",0)(1,"b")(2,"span"),m(3,"Gerenciar Pedidos"),i()(),a(4,"button",1),x("click",function(){return r.submitAction()}),m(5," FINALIZAR PEDIDO "),i()(),h(6,"hr"),a(7,"mat-card")(8,"b")(9,"span",2),m(10,"Dados do cliente"),i()(),a(11,"form",3)(12,"mat-form-field",4)(13,"mat-label"),m(14,"Nome"),i(),h(15,"input",5),d(16,xn,3,2,"mat-error",6),i(),a(17,"mat-form-field",4)(18,"mat-label"),m(19,"E-mail"),i(),h(20,"input",7),d(21,bn,3,2,"mat-error",6),i(),a(22,"mat-form-field",4)(23,"mat-label"),m(24,"Contato"),i(),h(25,"input",8),d(26,wn,3,2,"mat-error",6),i(),a(27,"mat-form-field",4)(28,"mat-label"),m(29,"Metodo de Pagamento"),i(),a(30,"mat-select",9)(31,"mat-option",10),m(32,"Dinheiro"),i(),a(33,"mat-option",11),m(34,"PIX"),i(),a(35,"mat-option",12),m(36,"Cart\xE3o Cr\xE9dito"),i(),a(37,"mat-option",13),m(38,"Cart\xE3o D\xE9bito"),i()(),d(39,On,2,1,"mat-error",6),i()()(),h(40,"hr"),a(41,"mat-card")(42,"b")(43,"span"),m(44,"Selecione o produto"),i()(),a(45,"form",3)(46,"div")(47,"mat-form-field",14)(48,"mat-label"),m(49,"Categoria"),i(),a(50,"mat-select",15),x("selectionChange",function(u){return r.getProductsByCategory(u.value)}),d(51,Pn,2,2,"mat-option",16),i()(),a(52,"mat-form-field",14)(53,"mat-label"),m(54,"Produto"),i(),a(55,"mat-select",17),x("selectionChange",function(u){return r.getProductsDetails(u.value)}),d(56,In,2,2,"mat-option",16),i()(),a(57,"mat-form-field",14)(58,"mat-label"),m(59,"Pre\xE7o"),i(),h(60,"input",18),d(61,kn,3,2,"mat-error",6),i(),a(62,"mat-form-field",14)(63,"mat-label"),m(64,"Quantidade"),i(),a(65,"input",19,20),x("keyup",function(u){return r.setQuantity(u)}),i(),d(67,Bn,3,2,"mat-error",6),i(),a(68,"mat-form-field",14)(69,"mat-label"),m(70,"TOTAL"),i(),h(71,"input",21),i()()(),a(72,"div",22)(73,"button",23),x("click",function(){return r.add()}),m(74," ADICIONAR PRODUTO "),i(),a(75,"button",24),m(76),W(77,"currency"),i()()(),h(78,"hr"),a(79,"mat-card",25)(80,"div",26)(81,"table",27),C(82,28),d(83,Vn,2,0,"th",29)(84,Nn,2,1,"td",30),M(),C(85,31),d(86,jn,2,0,"th",29)(87,Hn,2,1,"td",30),M(),C(88,32),d(89,qn,2,0,"th",29)(90,Ln,3,4,"td",30),M(),C(91,33),d(92,Un,2,0,"th",29)(93,Gn,2,1,"td",30),M(),C(94,34),d(95,$n,2,0,"th",29)(96,zn,3,4,"td",30),M(),C(97,35),d(98,Qn,2,0,"th",29)(99,Xn,4,0,"td",30),M(),d(100,Jn,1,0,"tr",36)(101,Wn,1,0,"tr",37),i()()()),o&2&&(c(4),s("disabled",r.validadeSubmit()),c(7),s("formGroup",r.manageOrderForm),c(5),s("ngIf",r.manageOrderForm.controls.name.touched&&r.manageOrderForm.controls.name.invalid),c(5),s("ngIf",r.manageOrderForm.controls.email.touched&&r.manageOrderForm.controls.email.invalid),c(5),s("ngIf",r.manageOrderForm.controls.contactNumber.touched&&r.manageOrderForm.controls.contactNumber.invalid),c(13),s("ngIf",r.manageOrderForm.controls.paymentMethod.touched&&r.manageOrderForm.controls.paymentMethod.invalid),c(6),s("formGroup",r.manageOrderForm),c(6),s("ngForOf",r.categorys),c(5),s("ngForOf",r.products),c(5),s("ngIf",r.manageOrderForm.controls.price.touched&&r.manageOrderForm.controls.price.invalid),c(6),s("ngIf",r.manageOrderForm.controls.quantity.touched&&r.manageOrderForm.controls.quantity.invalid),c(6),s("disabled",r.validadeProductAdd()),c(3),fe(" ",Z(77,17,r.totalAmount,"BRL"),""),c(5),s("dataSource",r.dataSource),c(19),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[qe,ge,Ue,O,ie,B,V,j,U,H,N,G,q,L,$,z,T,I,Pe,ae,F,Ge,oe,ve,_e,st,Ce,Me,Le,Se,be,re],styles:[".add-order__content[_ngcontent-%COMP%]{padding:20px;margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;text-transform:uppercase}.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto;margin:15px}button[_ngcontent-%COMP%]{margin:5px}mat-form-field[_ngcontent-%COMP%]{padding-right:5px}mat-card[_ngcontent-%COMP%]{margin:5px;padding:5px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}.mat-mdc-form-field[_ngcontent-%COMP%]{width:99%}.mat-50[_ngcontent-%COMP%]{width:49%}.mat-25[_ngcontent-%COMP%]{width:25%}.mat-20[_ngcontent-%COMP%]{width:20%}b[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;padding:10px}hr[_ngcontent-%COMP%]{margin:5px}.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.card-content[_ngcontent-%COMP%]{overflow-x:auto}@media screen and (min-width: 360px) and (max-width: 728px){.mat-25[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:98%}.mat-20[_ngcontent-%COMP%]{width:98%;display:flex;flex-direction:column}.add-order__content[_ngcontent-%COMP%], .btn-select-product[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-select-product[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:size .7rem}}"]});let e=t;return e})();var Pt=At(wt());function Zn(e,t){e&1&&(a(0,"th",16),m(1,"Nome"),i())}function Kn(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function Yn(e,t){e&1&&(a(0,"th",16),m(1,"Categoria"),i())}function ei(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.category)}}function ti(e,t){e&1&&(a(0,"th",16),m(1,"Pre\xE7o"),i())}function ni(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.price)}}function ii(e,t){e&1&&(a(0,"th",16),m(1,"Quantidade"),i())}function ai(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.quantity)}}function oi(e,t){e&1&&(a(0,"th",16),m(1,"Total"),i())}function ri(e,t){if(e&1&&(a(0,"td",17),m(1),W(2,"currency"),i()),e&2){let l=t.$implicit;c(),_(Z(2,1,l.total,"BRL"))}}function mi(e,t){e&1&&h(0,"tr",18)}function li(e,t){e&1&&h(0,"tr",19)}var Dt=(()=>{let t=class t{constructor(n,o){this.dialogData=n,this.dialogRef=o,this.displayedColumns=["name","category","price","quantity","total"]}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails)}};t.\u0275fac=function(o){return new(o||t)(f(Y),f(Ee))},t.\u0275cmp=E({type:t,selectors:[["app-view-bill-products"]],decls:47,vars:8,consts:[["color","primary"],[1,"title-center"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],["id","customers"],[1,"card-container"],[1,"card-content"],["mat-table","",1,"mat-elevation-z4",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),m(3,"Detalhes da Conta"),i(),a(4,"button",2)(5,"mat-icon"),m(6,"cancel"),i()()()(),a(7,"mat-dialog-content")(8,"table",3)(9,"tr")(10,"td")(11,"b"),m(12,"Name: "),i(),m(13),i(),a(14,"td")(15,"b"),m(16,"Email: "),i(),m(17),i()(),a(18,"tr")(19,"td")(20,"b"),m(21,"Contato: "),i(),m(22),i(),a(23,"td")(24,"b"),m(25,"M\xE9todo de Pagamento: "),i(),m(26),i()()()(),a(27,"mat-card",4)(28,"div",5)(29,"table",6),C(30,7),d(31,Zn,2,0,"th",8)(32,Kn,2,1,"td",9),M(),C(33,10),d(34,Yn,2,0,"th",8)(35,ei,2,1,"td",9),M(),C(36,11),d(37,ti,2,0,"th",8)(38,ni,2,1,"td",9),M(),C(39,12),d(40,ii,2,0,"th",8)(41,ai,2,1,"td",9),M(),C(42,13),d(43,oi,2,0,"th",8)(44,ri,3,4,"td",9),M(),d(45,mi,1,0,"tr",14)(46,li,1,0,"tr",15),i()()()),o&2&&(c(13),_(r.data.name),c(4),_(r.data.email),c(5),_(r.data.contactNumber),c(4),_(r.data.paymentMethod),c(3),s("dataSource",r.dataSource),c(16),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[ie,B,V,j,U,H,N,G,q,L,$,z,ee,te,ae,Te,Ie,re],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto;margin:20px}.card-content[_ngcontent-%COMP%]{overflow-x:auto}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #7a7a7a;padding:8px}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left}.card-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}@media screen and (min-width: 360px) and (max-width: 728px){.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.card-content[_ngcontent-%COMP%]{overflow-x:auto}.card-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem;text-align:center}}"]});let e=t;return e})();var Ot=(()=>{let t=class t{constructor(n){this.dialogData=n,this.onEmitStatusChange=new X,this.details={}}ngOnInit(){this.dialogData&&(this.details=this.dialogData)}handleChangeAction(){this.onEmitStatusChange.emit()}};t.\u0275fac=function(o){return new(o||t)(f(Y))},t.\u0275cmp=E({type:t,selectors:[["app-confirmation-delete-bill"]],decls:8,vars:0,consts:[["align","center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(o,r){o&1&&(a(0,"mat-dialog-content")(1,"h4"),m(2,"Deseja apagar o pedido?"),i()(),a(3,"mat-dialog-actions",0)(4,"button",1),x("click",function(){return r.handleChangeAction()}),m(5,"SIM"),i(),a(6,"button",2),m(7,"FECHAR"),i()())},dependencies:[O,ee,me,te]});let e=t;return e})();function ci(e,t){e&1&&(a(0,"th",16),m(1,"Nome"),i())}function si(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function di(e,t){e&1&&(a(0,"th",16),m(1,"Email"),i())}function pi(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.email)}}function ui(e,t){e&1&&(a(0,"th",16),m(1,"Contato"),i())}function fi(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.contactNumber)}}function gi(e,t){e&1&&(a(0,"th",16),m(1,"M\xE9todo de Pagamento"),i())}function hi(e,t){if(e&1&&(a(0,"td",17),m(1),i()),e&2){let l=t.$implicit;c(),_(l.paymentMethod)}}function _i(e,t){e&1&&(a(0,"th",16),m(1,"Total"),i())}function Ci(e,t){if(e&1&&(a(0,"td",17),m(1),W(2,"currency"),i()),e&2){let l=t.$implicit;c(),_(Z(2,1,l.total,"BRL"))}}function Mi(e,t){e&1&&(a(0,"th",16),m(1,"A\xE7\xF5es"),i())}function xi(e,t){if(e&1){let l=J();a(0,"td",17)(1,"button",18),x("click",function(){let r=w(l).$implicit,p=S();return D(p.handleViewAction(r))}),a(2,"mat-icon"),m(3,"visibility"),i()(),a(4,"button",19),x("click",function(){let r=w(l).$implicit,p=S();return D(p.downloadReportAction(r))}),a(5,"mat-icon"),m(6,"summarize"),i()(),a(7,"button",20),x("click",function(){let r=w(l).$implicit,p=S();return D(p.handleDeleteAction(r))}),a(8,"mat-icon"),m(9,"delete"),i()()()}}function vi(e,t){e&1&&h(0,"tr",21)}function Si(e,t){e&1&&h(0,"tr",22)}var It=(()=>{let t=class t{constructor(n,o,r,p,u){this.billService=n,this.ngxService=o,this.snackbarService=r,this.router=p,this.dialog=u,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","view"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.billService.getBills().subscribe(n=>{this.ngxService.stop(),this.dataSource=new le(n)},n=>{this.ngxService.stop(),n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}applyFilter(n){let o=n.target.value;this.dataSource.filter=o.trim().toLowerCase()}handleViewAction(n){let o=new K;o.data={data:n},o.width="100%";let r=this.dialog.open(Dt,o);this.router.events.subscribe(()=>{r.close()})}downloadReportAction(n){this.ngxService.start();var o={name:n.name,email:n.email,uuid:n.uuid,contactNumber:n.contactNumber,paymentMethod:n.paymentMethod,totalAmount:n.totalAmount,productDetails:n.productDetails};this.billService.getPDF(o).subscribe(r=>{(0,Pt.saveAs)(r,n.uuid+"pdf"),this.ngxService.stop()})}handleDeleteAction(n){let o=new K;o.data={message:"deletar a "+n.name+" Conta "};let r=this.dialog.open(Ot,o),p=r.componentInstance.onEmitStatusChange.subscribe(u=>{this.ngxService.start(),this.deleteProduct(n.id),r.close()})}deleteProduct(n){this.billService.delete(n).subscribe(o=>{this.ngxService.stop(),this.tableData(),this.responseMessage=o?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},o=>{this.ngxService.stop(),o.error?.message?this.responseMessage=o.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(We),f(ne),f(P),f(De),f(we))},t.\u0275cmp=E({type:t,selectors:[["app-view-bill"]],decls:33,vars:4,consts:[["appearance","outline"],["matInput","","placeholder","Busque por contas",3,"keyup"],["input",""],[1,"card-container"],[1,"card-content"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","Ver",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download PDF",3,"click"],["mat-icon-button","","color","primary","matTooltip","Deletar Conta",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-card")(1,"b")(2,"span"),m(3,"contas"),i()()(),a(4,"mat-card")(5,"mat-form-field",0)(6,"mat-label"),m(7,"Buscar pedido"),i(),a(8,"input",1,2),x("keyup",function(u){return r.applyFilter(u)}),i()()(),a(10,"mat-card",3)(11,"div",4)(12,"table",5),C(13,6),d(14,ci,2,0,"th",7)(15,si,2,1,"td",8),M(),C(16,9),d(17,di,2,0,"th",7)(18,pi,2,1,"td",8),M(),C(19,10),d(20,ui,2,0,"th",7)(21,fi,2,1,"td",8),M(),C(22,11),d(23,gi,2,0,"th",7)(24,hi,2,1,"td",8),M(),C(25,12),d(26,_i,2,0,"th",7)(27,Ci,3,4,"td",8),M(),C(28,13),d(29,Mi,2,0,"th",7)(30,xi,10,0,"td",8),M(),d(31,vi,1,0,"tr",14)(32,Si,1,0,"tr",15),i()()()),o&2&&(c(12),s("dataSource",r.dataSource),c(19),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[ie,B,V,j,U,H,N,G,q,L,$,z,T,I,ae,F,oe,re],styles:["mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}mat-card[_ngcontent-%COMP%] > b[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;font-size:1rem}.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.card-content[_ngcontent-%COMP%]{overflow-x:auto}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}@media screen and (min-width: 360px) and (max-width: 728px){.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.card-content[_ngcontent-%COMP%]{overflow-x:auto}}"]});let e=t;return e})();function bi(e,t){e&1&&(a(0,"th",14),m(1,"Nome"),i())}function yi(e,t){if(e&1&&(a(0,"td",15),m(1),i()),e&2){let l=t.$implicit;c(),_(l.name)}}function Ei(e,t){e&1&&(a(0,"th",14),m(1,"Email"),i())}function wi(e,t){if(e&1&&(a(0,"td",15),m(1),i()),e&2){let l=t.$implicit;c(),_(l.email)}}function Di(e,t){e&1&&(a(0,"th",14),m(1,"Contato"),i())}function Oi(e,t){if(e&1&&(a(0,"td",15),m(1),i()),e&2){let l=t.$implicit;c(),_(l.contactNumber)}}function Pi(e,t){e&1&&(a(0,"th",14),m(1,"A\xE7\xF5es"),i())}function Ii(e,t){if(e&1){let l=J();a(0,"td",15)(1,"mat-slide-toggle",16),x("change",function(o){let p=w(l).$implicit,u=S();return D(u.handleChangeAction(o.checked,p.id))}),i()()}if(e&2){let l=t.$implicit;c(),s("checked",l.status)}}function Ti(e,t){e&1&&h(0,"tr",17)}function Fi(e,t){e&1&&h(0,"tr",18)}var Tt=(()=>{let t=class t{constructor(n,o,r){this.ngxService=n,this.userService=o,this.snackbarService=r,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe(n=>{this.ngxService.stop(),this.dataSource=new le(n)},n=>{this.ngxService.stop(),n.error?.message?this.responseMessage=n.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}applyFilter(n){let o=n.target.value;this.dataSource.filter=o.trim().toLowerCase()}handleChangeAction(n,o){this.ngxService.start();var r={status:n.toString(),id:o};this.userService.update(r).subscribe(p=>{this.ngxService.stop(),this.responseMessage=p?.message,this.snackbarService.openSnackbar(this.responseMessage,"Success")},p=>{this.ngxService.stop(),p.error?.message?this.responseMessage=p.error?.message:this.responseMessage=g.genericError,this.snackbarService.openSnackbar(this.responseMessage,g.error)})}};t.\u0275fac=function(o){return new(o||t)(f(ne),f(ft),f(P))},t.\u0275cmp=E({type:t,selectors:[["app-manage-user"]],decls:28,vars:4,consts:[["appearance","outline"],["matInput","",3,"keyup"],["input",""],[1,"card-container"],[1,"card-content"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary","matTooltip","Mudar status do Usu\xE1rio",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,r){o&1&&(a(0,"mat-card")(1,"b")(2,"span"),m(3,"Gerenciar Usu\xE1rios"),i()()(),h(4,"hr"),a(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),m(8,"Filtro"),i(),a(9,"input",1,2),x("keyup",function(u){return r.applyFilter(u)}),i()()(),a(11,"mat-card",3)(12,"div",4)(13,"table",5),C(14,6),d(15,bi,2,0,"th",7)(16,yi,2,1,"td",8),M(),C(17,9),d(18,Ei,2,0,"th",7)(19,wi,2,1,"td",8),M(),C(20,10),d(21,Di,2,0,"th",7)(22,Oi,2,1,"td",8),M(),C(23,11),d(24,Pi,2,0,"th",7)(25,Ii,2,1,"td",8),M(),d(26,Ti,1,0,"tr",12)(27,Fi,1,0,"tr",13),i()()()),o&2&&(c(13),s("dataSource",r.dataSource),c(13),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[B,V,j,U,H,N,G,q,L,$,z,T,I,F,$e,oe],styles:["mat-card[_ngcontent-%COMP%]{padding:10px;margin:10px}mat-card[_ngcontent-%COMP%] > b[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width: 360px) and (max-width: 728px){.card-container[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.card-content[_ngcontent-%COMP%]{overflow-x:auto}}"]});let e=t;return e})();var Ft=[{path:"category",component:vt,canActivate:[Fe],data:{expectedRole:["admin"]}},{path:"product",component:bt,canActivate:[Fe],data:{expectedRole:["admin"]}},{path:"order",component:Et,canActivate:[Fe],data:{expectedRole:["admin","user"]}},{path:"bill",component:It,canActivate:[Fe],data:{expectedRole:["admin","user"]}},{path:"user",component:Tt,canActivate:[Fe],data:{expectedRole:["admin","user"]}}];var xo=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=rt({imports:[lt,ut.forChild(Ft),ht,ct,dt,pt,gt]});let e=t;return e})();export{xo as MaterialComponentsModule};
